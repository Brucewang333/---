<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .box {
            width: 800px;
            height: 520px;
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            justify-content: space-between;
            margin: 100px auto;
        }

        .item {
            flex: 25%;
            position: relative;
            /* background-color: red; */
        }

        img {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 100%;
            height: 150px;
        }

        p {
            position: absolute;
            bottom: 50px;
            left: 10px;
        }

        span {
            position: absolute;
            bottom: 10px;
            left: 10px;
        }

        .choose {
            margin-left: 100px;
            margin-top: 100px;

        }

        a {
            display: inline-block;
            width: 60px;
            height: 30px;
            text-align: center;
            line-height: 30px;
            border: 1px solid gray;
            font-size: 12px;
            text-decoration: none;
        }

        a:focus,
        a:active {
            background-color: lightgreen;
            color: white;
        }
    </style>

<body>
    <div class="choose">
        <a data-index='1' href="javascript:;">0-100元</a>
        <a data-index='2' href="javascript:;">100-300元</a>
        <a data-index='3' href="javascript:;">300元以上</a>
        <a href="">全部区间</a>
    </div>
    <div class="box">
        <div class="item">
            <img src="" alt="">
            <p></p>
            <span></span>
        </div>
    </div>
    <script>
        /*
            拿到数据数组，用forEach遍历每一个对象。
            字符串拼接
            innerHTML添加元素
        */
        const goodsList = [
            {
                id: '4001172',
                name: '称心如意手摇咖啡磨豆机咖啡豆研磨机',
                price: '289.00',
                picture: 'https://yanxuan-item.nosdn.127.net/84a59ff9c58a77032564e61f716846d6.jpg',
            },
            {
                id: '4001594',
                name: '日式黑陶功夫茶组双侧把茶具礼盒装',
                price: '288.00',
                picture: 'https://yanxuan-item.nosdn.127.net/3346b7b92f9563c7a7e24c7ead883f18.jpg',
            },
            {
                id: '4001009',
                name: '竹制干泡茶盘正方形沥水茶台品茶盘',
                price: '109.00',
                picture: 'https://yanxuan-item.nosdn.127.net/2d942d6bc94f1e230763e1a5a3b379e1.png',
            },
            {
                id: '4001874',
                name: '古法温酒汝瓷酒具套装白酒杯莲花温酒器',
                price: '488.00',
                picture: 'https://yanxuan-item.nosdn.127.net/44e51622800e4fceb6bee8e616da85fd.png',
            },
            {
                id: '4001649',
                name: '大师监制龙泉青瓷茶叶罐',
                price: '139.00',
                picture: 'https://yanxuan-item.nosdn.127.net/4356c9fc150753775fe56b465314f1eb.png',
            },
            {
                id: '3997185',
                name: '与众不同的口感汝瓷白酒杯套组1壶4杯',
                price: '108.00',
                picture: 'https://yanxuan-item.nosdn.127.net/8e21c794dfd3a4e8573273ddae50bce2.jpg',
            },
            {
                id: '3997403',
                name: '手工吹制更厚实白酒杯壶套装6壶6杯',
                price: '99.00',
                picture: 'https://yanxuan-item.nosdn.127.net/af2371a65f60bce152a61fc22745ff3f.jpg',
            },
            {
                id: '3998274',
                name: '德国百年工艺高端水晶玻璃红酒杯2支装',
                price: '139.00',
                picture: 'https://yanxuan-item.nosdn.127.net/8896b897b3ec6639bbd1134d66b9715c.jpg',
            },
        ]

        // 1. 遍历对象，拼接字符串
        // let str = ''
        // goodsList.forEach(element => {
        //     // 拿到各项数据
        //     const { name, price, picture } = element;
        //     // console.log(picture);
        //     str += ` <div class="item">
        //         <img src ='${picture}'  alt = "" >
        //         <p>${name}</p>
        //         <span>${price}</span>
        //         </div > `
        // })
        // console.log(str);
        // let box = document.querySelector('.box');
        // box.innerHTML = str


        // 封装成函数
        function render(goodsList) {
            let str = ''
            goodsList.forEach(element => {
                // 拿到各项数据
                const { name, price, picture } = element;
                str += ` <div class="item">
                <img src ='${picture}'  alt = "" >
                <p>${name}</p>
                <span>${price}</span>
                </div > `
            })

            let box = document.querySelector('.box');
            box.innerHTML = str
        };
        render(goodsList)
        /*
            点击choose区域，拿到相关数据，
        */
        document.querySelector('.choose').addEventListener('click', e => {
            const { tagName, dataset } = e.target;
            if (tagName === 'A') {
                // arr 返回的新数组
                let arr = goodsList
                if (dataset.index === '1') {
                    arr = goodsList.filter(item => item.price > 0 && item.price <= 100)
                } else if (dataset.index === '2') {
                    arr = goodsList.filter(item => item.price >= 100 && item.price <= 300)
                } else if (dataset.index === '3') {
                    arr = goodsList.filter(item => item.price >= 300)
                }
                render(arr);
            }

        })



    </script>
</body>

</html>