<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>06-5秒之后自动跳转页面</title>
    <style>
        span {
            color: red;
        }
    </style>
</head>

<body>
    <a href="http://www.baidu.com">支付成功<span>5</span>秒钟之后跳转到首页</a>

    <script>
        // 1. 获取元素
        const a = document.querySelector('a')
        // 2. 开启定时器
        // 3. 声明倒计时变量
        let num = 5

        let timerId = setInterval(function () {
            console.log(num)
            num--
            a.innerHTML = `支付成功<span>${num}</span>秒钟之后跳转到首页`
            // 如果num===0，我们停止定时器，并自动跳转功能
            if (num === 0) {
                clearInterval(timerId)
                // 4. 跳转 location.href
                location.href = 'http://www.baidu.com'
            }
        }, 1000)


        // location的数据类型是对象，它拆分并保存了URL地址的各个组成部分
        // 常用属性和方法：
        //     search属性获取地址中携带的参数，符号 ? 后面的部分
        //         console.log(location.search)
        //     hash属性获取地址中的哈希值，符合#后面部分
        //         console.log(location.hash)
        //         后期vue路由的铺垫，经常用于不刷新页面，显示不同页面，比如：网易云音乐
        //     reload方法用来刷新当前页面，传入参数true时表示强制刷新
        /*
            <button>点击刷新</button>
            <scrip>
                let btn = document.querySelector('button')
                btn.addEventListener('click', function () {
                    location.reload(true)
                    // 强制刷新 类似 Ctrl+F5
                })
            </scrip>
        */
    </script>

</body>

</html>